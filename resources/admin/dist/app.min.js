!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){var n=e.location.pathname,r=!!storedb("user").find();console.log("当前用户:"+storedb("user").find()),r||"login"===n||"/login"===n?!r||"login"!=n&&"/login"!=n||t({pathname:"/"}):(ConfigActions.update("msg","你还没有登录，请先登录！"),t({pathname:"/login"}))}var i=ReactRouter,a=i.Router,o=i.Route,s=i.IndexRoute,c=i.IndexRedirect,l=i.Redirect,u=i.hashHistory,p=(i.browserHistory,n(1)),h=p.Layout,f=n(13),d=f.Nomatch,m=f.Home,v=f.Drag,g=f.ApiCloudsIndex,y=f.ApiClouds,b=f.ApiCloud,_=f.Pages,w=f.Page,E=f.Login,R=f.Logout,C=f.Import;n(44);var k=React.createElement(a,{history:u},React.createElement(o,{path:"/",component:h},React.createElement(c,{to:"index"}),React.createElement(o,{path:"index",component:m}),React.createElement(o,{path:"import",component:C}),React.createElement(o,{path:"drag",component:v}),React.createElement(o,{path:"apicloud"},React.createElement(s,{component:g,onEnter:r}),React.createElement(o,{path:":clouds"},React.createElement(s,{component:y,onEnter:r}),React.createElement(o,{path:":articleId",component:b}))),React.createElement(o,{path:"api"},React.createElement(s,{component:g}),React.createElement(l,{from:":pages",to:":pages/index"}),React.createElement(o,{path:":pages"},React.createElement(o,{path:"index",component:_}),React.createElement(o,{path:":page",component:w})))),React.createElement(o,{path:"login",component:E,onEnter:r}),React.createElement(o,{path:"logout",component:R}),React.createElement(o,{path:"*",component:d}));ReactDOM.render(k,document.getElementById("app"))},function(e,t,n){"use strict";var r=n(2),i=n(9),a=n(11),o={Layout:r,Header:i,Footer:a};e.exports=o},function(e,t,n){"use strict";var r=n(3),i=n(9),a=n(10),o=n(11),s=React.createClass({displayName:"Layout",_onChange:function(){var e=ConfigStore.getAll();console.log(e),window.document.title=e.title,this.setState(e)},componentDidMount:function(){ConfigStore.addChangeListener(this._onChange);var e={where:{state:1},order:["order DESC","createdAt DESC"],limit:100};r.get("role",e,function(e,t){var n=JSON.parse(t.text);ConfigActions.update("roles",n)})},componentWillUnmount:function(){ConfigStore.removeChangeListener(this._onChange)},render:function(){return React.createElement("div",{id:"warper",className:"pure-g"},React.createElement(i),React.createElement("section",{id:"main"},React.createElement(a),React.createElement("section",{id:"content",className:"pure-u-1"},this.props.children)),React.createElement(o))}});e.exports=s},function(e,t,n){"use strict";var r=n(4),i="A6984077246442",a="7F7872C0-8EB2-D116-C9AF-AF02A4B65BA0",o="https://d.apicloud.com/mcm/api/",s=function(e,t,n){if(1==window.navigator.onLine){var s=Date.now(),c=SHA1(i+"UZ"+a+"UZ"+s)+"."+s,l=storedb("user").find()?storedb("user").find()[0].id:"";l="",r.get(o+e).set("X-APICloud-AppId",i).set("X-APICloud-AppKey",c).set("authorization",l).query({filter:JSON.stringify(t)}).end(n)}else console.log("网络出现故障！")},c=function(e,t,n){if(1==window.navigator.onLine){var s=Date.now(),c=SHA1(i+"UZ"+a+"UZ"+s)+"."+s,l=storedb("user").find()?storedb("user").find()[0].id:"";r.post(o+e).set("X-APICloud-AppId",i).set("X-APICloud-AppKey",c).set("authorization",l).send(t).end(n)}else console.log("网络出现故障！")},l={get:s,post:c};e.exports=l},function(e,t,n){"use strict";function r(){}function i(e){if(!g(e))return e;var t=[];for(var n in e)a(t,n,e[n]);return t.join("&")}function a(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){a(e,t,n)});else if(g(n))for(var r in n)a(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function o(e){for(var t,n,r={},i=e.split("&"),a=0,o=i.length;a<o;++a)t=i[a],n=t.indexOf("="),n==-1?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function s(e){var t,n,r,i,a=e.split(/\r?\n/),o={};a.pop();for(var s=0,c=a.length;s<c;++s)n=a[s],t=n.indexOf(":"),r=n.slice(0,t).toLowerCase(),i=b(n.slice(t+1)),o[r]=i;return o}function c(e){return/[\/+]json\b/.test(e)}function l(e){return e.split(/ *; */).shift()}function u(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})}function p(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this._setStatusProperties(this.xhr.status),this.header=this.headers=s(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function h(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new p(n)}catch(r){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=r,e.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,e.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(e)}n.emit("response",t);var i;try{(t.status<200||t.status>=300)&&(i=new Error(t.statusText||"Unsuccessful HTTP response"),i.original=e,i.response=t,i.status=t.status)}catch(r){i=r}i?n.callback(i,t):n.callback(null,t)})}function f(e,t){var n=y("DELETE",e);return t&&n.end(t),n}var d;"undefined"!=typeof window?d=window:"undefined"!=typeof self?d=self:(console.warn("Using browser-only version of superagent in non-browser environment"),d=void 0);var m=n(5),v=n(6),g=n(7),y=e.exports=n(8).bind(null,h);y.getXHR=function(){if(!(!d.XMLHttpRequest||d.location&&"file:"==d.location.protocol&&d.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only verison of superagent could not find XHR")};var b="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};y.serializeObject=i,y.parseString=o,y.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},y.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},y.parse={"application/x-www-form-urlencoded":o,"application/json":JSON.parse},p.prototype.get=function(e){return this.header[e.toLowerCase()]},p.prototype._setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=l(t);var n=u(t);for(var r in n)this[r]=n[r]},p.prototype._parseBody=function(e){var t=y.parse[this.type];return!t&&c(this.type)&&(t=y.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null},p.prototype._setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},p.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},y.Response=p,m(h.prototype);for(var _ in v)h.prototype[_]=v[_];h.prototype.type=function(e){return this.set("Content-Type",y.types[e]||e),this},h.prototype.responseType=function(e){return this._responseType=e,this},h.prototype.accept=function(e){return this.set("Accept",y.types[e]||e),this},h.prototype.auth=function(e,t,n){switch(n||(n={type:"basic"}),n.type){case"basic":var r=btoa(e+":"+t);this.set("Authorization","Basic "+r);break;case"auto":this.username=e,this.password=t}return this},h.prototype.query=function(e){return"string"!=typeof e&&(e=i(e)),e&&this._query.push(e),this},h.prototype.attach=function(e,t,n){return this._getFormData().append(e,t,n||t.name),this},h.prototype._getFormData=function(){return this._formData||(this._formData=new d.FormData),this._formData},h.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},h.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},h.prototype._timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},h.prototype._appendQueryString=function(){var e=this._query.join("&");e&&(this.url+=~this.url.indexOf("?")?"&"+e:"?"+e)},h.prototype.end=function(e){var t=this,n=this.xhr=y.getXHR(),i=this._timeout,a=this._formData||this._data;this._callback=e||r,n.onreadystatechange=function(){if(4==n.readyState){var e;try{e=n.status}catch(r){e=0}if(0==e){if(t.timedout)return t._timeoutError();if(t._aborted)return;return t.crossDomainError()}t.emit("end")}};var o=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction="download",t.emit("progress",e)};this.hasListeners("progress")&&(n.onprogress=o);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=o)}catch(s){}if(i&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},i)),this._appendQueryString(),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!this._isHost(a)){var l=this._header["content-type"],u=this._serializer||y.serialize[l?l.split(";")[0]:""];!u&&c(l)&&(u=y.serialize["application/json"]),u&&(a=u(a))}for(var p in this.header)null!=this.header[p]&&n.setRequestHeader(p,this.header[p]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send("undefined"!=typeof a?a:null),this},y.Request=h,y.get=function(e,t,n){var r=y("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},y.head=function(e,t,n){var r=y("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},y.options=function(e,t,n){var r=y("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},y.del=f,y["delete"]=f,y.patch=function(e,t,n){var r=y("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},y.post=function(e,t,n){var r=y("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},y.put=function(e,t,n){var r=y("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){"use strict";function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";var r=n(7);t.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},t.parse=function(e){return this._parser=e,this},t.serialize=function(e){return this._serializer=e,this},t.timeout=function(e){return this._timeout=e,this},t.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,r){n?t(n):e(r)})})}return this._fullfilledPromise.then(e,t)},t.use=function(e){return e(this),this},t.get=function(e){return this._header[e.toLowerCase()]},t.getHeader=t.get,t.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},t.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},t.field=function(e,t){return this._getFormData().append(e,t),this},t.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},t.withCredentials=function(){return this._withCredentials=!0,this},t.redirects=function(e){return this._maxRedirects=e,this},t.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},t._isHost=function(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}},t.send=function(e){var t=r(e),n=this._header["content-type"];if(t&&r(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)}},function(e,t){"use strict";function n(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":r(e))}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};e.exports=n},function(e,t){"use strict";function n(e,t,n){return"function"==typeof n?new e("GET",t).end(n):2==arguments.length?new e("GET",t):new e(t,n)}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=ReactRouter,c=s.Link,l=(n(3),function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"render",value:function(){return React.createElement("li",{className:"pure-menu-item"},React.createElement(c,{className:"pure-menu-link",to:"/"+this.props.to,activeClassName:"active"},this.props.title))}}]),t}(React.Component)),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={menu:null},e}return a(t,e),o(t,[{key:"componentDidMount",value:function(){new Promise(function(e,t){request.get("admin/user").set("Accept","application/json").end(function(n,r){if(n)t("error");else{var i=JSON.parse(r.text);e(i)}}.bind(this))}).then(function(e){return new Promise(function(e,t){e("2000 OK")})}).then(function(e){console.log("头部: "+e)})["catch"](function(e){console.log("Failed: "+e)})}},{key:"render",value:function(){return React.createElement("header",{id:"header",className:"pure-u-1 pure-menu pure-menu-horizontal pure-menu-fixed"},React.createElement(c,{className:"pure-menu-heading pure-menu-link left",to:"/"},"我的理想乡"),React.createElement("ul",{className:"pure-menu-list right"},React.createElement(l,{to:"login",title:"login"}),React.createElement(l,{to:"logout",title:"logout"})))}}]),t}(React.Component);e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=ReactRouter,c=s.Link,l=(n(3),function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"render",value:function(){return React.createElement("li",{className:"pure-menu-item"},React.createElement(c,{className:"pure-menu-link",to:"/"+this.props.to,activeClassName:"active"},React.createElement("i",{className:this.props.icon||"fa fa-home"}),React.createElement("span",{},this.props.title)),this.props.children)}}]),t}(React.Component)),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return a(t,e),o(t,[{key:"componentDidMount",value:function(){request.get("admin/meun").end(function(e,t){if(e)reject("error");else{var n=JSON.parse(t.text);this.setState({menu:n})}}.bind(this))}},{key:"render",value:function(){var e=void 0;return this.state.menu&&(e=this.state.menu.map(function(e,t){return React.createElement(l,{key:t,to:e.link,title:e.title})})),React.createElement("aside",{id:"sidebar",className:"pure-u-1 pure-menu sidebar"},React.createElement(c,{className:"pure-menu-heading pure-menu-link",to:"/"},"我的理想乡"),React.createElement("ul",{className:"pure-menu-list"},React.createElement(l,{to:"drag",title:"drag"}),e))}}]),t}(React.Component);e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={info:{}},n}return a(t,e),o(t,[{key:"componentDidMount",value:function(){s.get("acman/zhaiyanapi/tcrand?fangfa=json",function(e,t){var n=JSON.parse(t.text);this.setState({info:n})}.bind(this))}},{key:"render",value:function(){return React.createElement("footer",{id:"footer",className:"footer pure-u-1"},this.state.info.taici,"—— ",this.state.info.source)}}]),t}(React.Component);e.exports=c},function(e,t,n){"use strict";var r=n(4),i="http://apis.baidu.com/",a="c01ea8775f1c2620b7dd6f5b6bcec93b",o=function(e,t){1==window.navigator.onLine?r.get(i+e).set("apikey",a).end(t):console.log("网络出现故障！")},s=function(e,t,n){if(console.log(window.navigator.onLine),1==window.navigator.onLine){var a=Date.now(),o=SHA1(AppId+"UZ"+AppKey+"UZ"+a)+"."+a;r.post(i+e).set("X-APICloud-AppId",AppId).set("X-APICloud-AppKey",o).send(t).end(n)}else console.log("网络出现故障！")},c={get:o,post:s};e.exports=c},function(e,t,n){"use strict";var r=n(14),i=n(15),a=n(16),o=n(17),s=n(18),c=n(19),l=n(39),u=n(40),p=n(41),h=n(42),f=n(43),d={Nomatch:r,Home:i,Drag:a,ApiCloudsIndex:o,ApiClouds:s,ApiCloud:c,Pages:l,Page:u,Login:p,Logout:h,Import:f};e.exports=d},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"render",value:function(){return React.createElement("h3",null,"Nomatch")}}]),t}(React.Component);e.exports=o},function(e,t){"use strict";var n=React.createClass({displayName:"Home",getInitialState:function(){return{items:["hello","world","click","me"]}},componentDidMount:function(){ConfigActions.update("title","首页")},handleSelect:function(e){console.log(e),console.log(e.format("YYYY-MM-D HH d"))},updateHtml:function(e){this.setState({html:e})},render:function(){return React.createElement("div",{className:"container pure-g"},React.createElement("div",{className:"pure-u-1"},"技术开发—by田恩仲（284059577）"))}});e.exports=n},function(e,t){"use strict";var n=React.addons.CSSTransitionGroup,r=document.createElement("div");r.className="placeholder";var i=React.createClass({displayName:"Drag",getInitialState:function(){return{items:["hello","world","click","me"]}},handleAdd:function(){var e="add:"+Math.random(),t=this.state.items.concat([e]);this.setState({items:t})},handleRemove:function(e){var t=this.state.items;t.splice(e,1),this.setState({items:t})},dragStart:function(e){this.dragged=e.currentTarget,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.currentTarget)},dragEnd:function(e){this.dragged.style.display="block",this.dragged.parentNode.removeChild(r);var t=this.state.items,n=Number(this.dragged.dataset.id),i=Number(this.over.dataset.id);n<i&&i--,"after"==this.nodePlacement&&i++,t.splice(i,0,t.splice(n,1)[0]),this.setState({items:t})},dragOver:function(e){if(e.preventDefault(),this.dragged.style.display="none","placeholder"!=e.target.className){this.over=e.target;var t=e.clientY-this.over.offsetTop,n=this.over.offsetHeight/2,i=e.target.parentNode;t>n?(this.nodePlacement="after",i.insertBefore(r,e.target.nextElementSibling)):t<n&&(this.nodePlacement="before",i.insertBefore(r,e.target))}},handleSelect:function(e){console.log(e)},render:function(){var e=this.state.items.map(function(e,t){return React.createElement("div",{key:e,className:"item",onClick:this.handleRemove.bind(this,t),"data-id":t,draggable:!0,onDragEnd:this.dragEnd,onDragStart:this.dragStart},e)}.bind(this));return React.createElement("div",{className:"container pure-g"},React.createElement("div",{className:"pure-u-1"},React.createElement("h3",null,"Hello, world2!"),React.createElement("button",{onClick:this.handleAdd},"Add Item"),React.createElement(n,{transitionName:"example",transitionEnter:!1,onDragOver:this.dragOver},e)))}});e.exports=i},function(e,t){"use strict";var n=React.createClass({displayName:"ApiCloudsIndex",render:function(){return React.createElement("a",{className:"pure-menu-heading pure-menu-link left"},"ApiCloudsIndex")}});e.exports=n},function(e,t,n){"use strict";var r=ReactRouter.Link,i=n(3),a=React.createClass({displayName:"ApiClouds",getDefaultProps:function(){return{article:{title:"文章管理",thead:["id","标题","状态","操作"],tbody:["title","state"]},menu:{title:"菜单管理",thead:["id","菜单名称","排序","状态","操作"],tbody:["title","order","state"]},model:{title:"模块字段管理",thead:["id","菜单名称","所属模块","排序","状态","操作"],tbody:["title","model","order","state"]},title:"+45689"}},componentWillMount:function(){var e=this.props.params.clouds;this.setState({table:this.props[e]})},componentDidMount:function(){this._req(this.props)},componentWillReceiveProps:function(e){e.location.pathname===this.state.hash&&e.location.search===this.state.search||this._req(e)},_req:function(e){var t=e.params.clouds,n=this.props[t]?this.props[t].title:"田恩仲开发设计";ConfigActions.update("title",n);var r={},a=get(e.location.search);extend(r,a),delete r._k;var o={};extend(r,o,!0);var s={where:r,order:["model DESC","order DESC","createdAt DESC"],limit:a.limit?parseInt(a.limit):20,skip:a.skip?parseInt(a.skip):0};i.get(e.params.clouds,s,function(n,r){if(n)ConfigActions.msg(r.status+"error");else{var i=JSON.parse(r.text);if(404==i.res)return ConfigActions.update("title",i.msg),void this.setState({hash:e.location.pathname,search:e.location.search,title:i.msg,table:e[t]});this.setState({hash:e.location.pathname,search:e.location.search,info:i,table:e[t]})}}.bind(this))},render:function(){var e=void 0;this.state.table.thead&&(e=this.state.table.thead.map(function(e,t){return React.createElement("th",{key:t},e)}));var t=void 0;return this.state.info&&(t=this.state.info.map(function(e,t){var n="/apicloud/"+this.props.params.clouds+"/"+e.id;return React.createElement("tr",{className:t%2==0?"pure-table-odd":"",key:t},React.createElement("td",{},"#"),this.state.table.tbody.map(function(t,n){return React.createElement("td",{key:n},e[t])}),React.createElement("td",{},React.createElement(r,{to:n},"编辑")))}.bind(this))),React.createElement("section",{className:"warp"},React.createElement("section",{className:"pure-g"},React.createElement("h3",{className:"pure-u-1"},this.state.table.title),React.createElement("div",{className:"pure-u-1 filter"},React.createElement("a",{className:"pure-menu-link"},"筛选"),React.createElement(r,{to:"/apicloud/"+this.props.params.clouds,className:"pure-menu-link",activeClassName:"active"},"全部"),React.createElement(r,{to:"/apicloud/"+this.props.params.clouds,className:"pure-menu-link",activeClassName:"active",query:{state:1}},"正常"),React.createElement(r,{to:"/apicloud/"+this.props.params.clouds,className:"pure-menu-link",activeClassName:"active",query:{state:0}},"删除")),React.createElement("div",{className:"pure-u-1"},React.createElement("table",{className:"pure-table",style:{width:"100%"}},React.createElement("thead",{},React.createElement("tr",{},e)),React.createElement("tbody",{id:"uid"},t)))))}});e.exports=a},function(e,t,n){"use strict";var r=n(3),i=n(20),a=i.Form,o=i.Input,s=i.Textarea,c=i.Radio,l=i.Checkbox,u=i.Upload,p=(i.Range,i.Button),h=i.Hidden,f=React.createClass({displayName:"ApiCloud",getDefaultProps:function(){return{article:"文章",menu:"菜单",model:"字段"}},getInitialState:function(){return{info:null}},componentDidMount:function(){this._req(this.props)},componentWillReceiveProps:function(e){e.location.pathname!==this.state.hash&&this._req(e)},_req:function(e){var t=e.params.clouds,n=this.props[t]?this.props[t]:"田恩仲开发设计",i=e.params.articleId,a={state:1},o=get(e.location.search);extend(a,o),delete a._k;var s={model:e.params.clouds};extend(a,s,!0);var c={where:a,order:["order DESC","createdAt DESC"],limit:o.limit?parseInt(o.limit):100};r.get("model",c,function(a,o){var s=this,c=JSON.parse(o.text);if(console.log(c),"add"!==i)!function(){t=t+"/"+i;var a=storedb("article").find({id:i});a&&0!==a.length?(a=a[0].value,a._method="PUT",ConfigActions.update("title",a.title+"-编辑"+n),s.setState({hash:e.location.pathname,model:c,title:"编辑"+n,info:a,action:t,id:i})):r.get(e.params.clouds+"/"+i,"",function(r,o){a=JSON.parse(o.text),storedb("article").insert({id:i,value:a}),a._method="PUT",ConfigActions.update("title",a.title+"-编辑"+n),this.setState({hash:e.location.pathname,model:c,title:"编辑"+n,info:a,action:t,id:i})}.bind(s))}();else{var l=storedb("user").find()[0].userId,u={userId:l};ConfigActions.update("title","新增"+n),this.setState({hash:e.location.pathname,model:c,title:"新增"+n,action:t,info:u})}}.bind(this))},_onChange:function(e,t){var n=this.state.info;n[e]=t,this.setState({info:n})},_onSubmit:function(e){ConfigActions.update("title",e.title),ConfigActions.update(e.id,e),this.state.id?ConfigActions.update("msg","保存成功！"):(ConfigActions.update("msg","发布成功！"),window.location.href="/#/apicloud/"+this.props.params.clouds+"/"+e.id)},render:function d(){var e=this,d=void 0,t=void 0,n=this.state.info,r=this.state.model;return r&&!function(){var i=e._onChange;t=r.map(function(e,t){switch(n[e.name]||0==n[e.name]?e.value=n[e.name]:e.value=e["default"]||"",e.key=e.name,e.onChange=i,e.type){case"text":return React.createElement(o,e);case"password":return React.createElement(o,e);case"email":return React.createElement(o,e);case"textarea":return React.createElement(s,e);case"upload":return React.createElement(u,e);case"image":return React.createElement(u,e);case"radio":return React.createElement(c,e);case"checkbox":return React.createElement(l,e);case"hidden":return React.createElement(h,e)}})}(),n&&(d=React.createElement("section",{className:"container"},React.createElement("h3",null,this.state.title),React.createElement(a,{action:this.state.action,info:n,legend:this.state.title,onSubmit:this._onSubmit},t,React.createElement(p)))),React.createElement("section",{className:"warp"},d)}});e.exports=f},function(e,t,n){"use strict";var r=n(21),i=n(24),a=n(25),o=n(26),s=n(27),c=n(28),l=n(31),u=n(32),p=n(33),h=n(34),f=n(35),d=n(36),m=n(37),v=n(38),g={Form:r,FormGroup:i,Input:a,Textarea:o,Canvas:s,Upload:c,Radio:l,Checkbox:u,Range:p,Button:h,Hidden:f,Select:d,Tab:m,Audio:v};e.exports=g},function(e,t,n){"use strict";var r=n(3),i=(n(22),React.createClass({displayName:"Form",getDefaultProps:function(){return{apiSubmit:!0}},handleSubmit:function(e){e.preventDefault(),this.props.locked||(this.props.apiSubmit?r.post(this.props.action,this.props.info,function(e,t){var n=JSON.parse(t.text);console.log(t),n.error?ConfigActions.update("msg",n.error.message):this.props.onSubmit(n)}.bind(this)):this.props.onSubmit(e))},render:function(){return React.createElement("form",{className:"form-fields form-horizontal",role:"form",onSubmit:this.handleSubmit},React.createElement("fieldset",{className:"form-fieldset"},React.createElement("legend",{className:"form-legend"},this.props.legend),this.props.children))}}));e.exports=i},function(e,t,n){var r,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r="undefined"==typeof n?"undefined":a(n);if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(o.apply(null,n));else if("object"===r)for(var i in n)s.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ");
}var s={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=o:"object"===a(n(23))&&n(23)?(r=[],i=function(){return o}.apply(t,r),!(void 0!==i&&(e.exports=i))):window.classNames=o}()},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(22),function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"render",value:function(){var e=this.props.className?"form-group "+this.props.className:"form-group";return React.createElement("div",{className:e},React.createElement("label",{className:"form-label"},this.props.title),React.createElement("div",{className:"form-control"},this.props.limit?React.createElement("i",{className:"form-ico fa"},this.props.limit):null,this.props.children,this.props.help?React.createElement("span",{className:"form-help"},this.props.help):null))}}]),t}(React.Component));e.exports=s},function(e,t,n){"use strict";var r=n(22),i=n(24),a=React.createClass({displayName:"Input",getDefaultProps:function(){return{type:"text",value:"",autocomplete:"off",required:"required"}},getInitialState:function(){return{value:this.props.value,help:this.props.help,length:this.props.value.length||0}},componentWillMount:function(){var e=(this.props.value.length||0,this.props.help||"请输入"+this.props.title);this.setState({help:e})},shouldComponentUpdate:function(e,t){return e.value!==this.props.value},componentWillReceiveProps:function(e){this.state={value:e.value,length:e.value.length||0}},_onChange:function(e){var t=void 0,n=void 0,r=void 0,i=e.target.value.replace(/(^\s*)|(\s*$)/,""),a=i.length,o=this.props.help||"请输入"+this.props.title;a>0?(this.props.min&&a<this.props.min?(o="请输入至少"+this.props.min+"个字符！",t=!0):this.props.max&&a>this.props.max&&(o="请输入至多"+this.props.max+"个字符！",t=!0),t||(r=!0)):this.props.required&&(o=this.props.title+"必须填写！",n=!0),this.setState({value:i,help:o,length:a,error:t,warning:n,success:r}),this.props.onChange&&this.props.onChange(this.props.name,i)},render:function(){var e=r({"has-error":this.state.error,"has-warning":this.state.warning,"has-success":this.state.success}),t=" "+this.state.length;return this.props.max&&(t+=" / "+this.props.max),React.createElement(i,{"class":e,title:this.props.title,limit:t,help:this.state.help},React.createElement("input",{className:"form-input",type:this.props.type,max:this.props.max,min:this.props.min,placeholder:this.props.placeholder,disabled:this.props.disabled,autoComplete:this.props.autoComplete,value:this.state.value,onChange:this._onChange}))}});e.exports=a},function(e,t,n){"use strict";var r=n(22),i=n(24),a=React.createClass({displayName:"Textarea",getDefaultProps:function(){return{title:"字段名称",value:"",placeholder:"",help:"",disabled:"",autocomplete:"off",required:"required",min:2,rows:2}},getInitialState:function(){return{value:this.props.value,help:this.props.help,error:!1,warning:!1,success:!1}},componentWillMount:function(){var e=this.props.value.length,t=this.props.help||"请输入"+this.props.title;this.setState({help:t,length:e})},shouldComponentUpdate:function(e,t){return e.value!==this.props.value},_onChange:function(e){var t=void 0,n=void 0,r=void 0,i=e.target.value.replace(/(^\s*)|(\s*$)/,""),a=i.length,o=this.props.help||"请输入"+this.props.title;a>0?(this.props.min&&a<this.props.min?(o="请输入至少"+this.props.min+"个字符！",t=!0):this.props.max&&a>this.props.max&&(o="请输入至多"+this.props.max+"个字符！",t=!0),t||(r=!0)):this.props.required&&(o=this.props.title+"必须填写！",n=!0),this.setState({value:i,help:o,length:a,error:t,warning:n,success:r}),this.props.onChange&&this.props.onChange(this.props.name,i)},onWheel:function(e){console.log(e),console.log(e.currentTarget.offsetTop)},onKeyPress:function(e){console.log(e),console.log(e.nativeEvent.charCode)},onCopy:function(e){console.log(e)},render:function(){var e=r({"has-error":this.state.error,"has-warning":this.state.warning,"has-success":this.state.success}),t=" "+this.state.length;return this.props.max&&(t+=" / "+this.props.max),React.createElement(i,{"class":e,title:this.props.title,limit:t,help:this.state.help,onWheel:this.onWheel,onCopy:this.onCopy,onKeyPress:this.onKeyPress},React.createElement("textarea",{className:"form-textarea",rows:this.props.rows,placeholder:this.props.placeholder,disabled:this.props.disabled,autoComplete:this.props.autoComplete,value:this.state.value,onChange:this._onChange}))}});e.exports=a},function(e,t){"use strict";var n=React.createClass({displayName:"Canvas",getDefaultProps:function(){return{width:200}},getInitialState:function(){return{width:this.props.width,height:this.props.height||this.props.width}},render:function(){return React.createElement("div",{style:{width:this.state.width,height:this.state.height}},React.createElement("img",{style:{width:this.state.width,height:this.state.height,display:"block"},src:this.props.src}))}});e.exports=n},function(e,t,n){"use strict";var r=n(22),i=n(29),a=n(24),o=n(27),s=n(30),c=s.getUpToken,l=(s.getHash,React.createClass({displayName:"Upload",getDefaultProps:function(){return{title:"上传图片",value:"",files:[],thumbs:[],multiple:!0,help:""}},getInitialState:function(){return{files:this.props.files,thumbs:this.props.thumbs,help:this.props.help,multiple:this.props.multiple,shownum:0}},componentWillMount:function(){var e=this.props.value;e=e?JSON.parse(e):[];var t=[],n=e.length;if(0!=n){if(this.props.multiple){var r=void 0;for(r=0;r<n;r++){var i=[];i.thumb=e[r],i.state=4,t[r]=i}}else{var a=[],o=[];a.thumb=e[0],a.state=4,t[0]=a,o.concat(e[0]),e=o}this.setState({files:t,thumbs:e})}},componentDidMount:function(){},componentDidUpdate:function(){},_onChange:function(e){e.preventDefault();var t=e.target.files;t=Array.prototype.slice.call(t,0),t=t.filter(function(e){return/image/i.test(e.type)});var n=void 0;n=this.props.multiple?this.state.files:[];var r=this.props.multiple?t.length:1,i=void 0;for(i=0;i<r;i++)t[i].thumb=URL.createObjectURL(t[i]),t[i].state=0,n=n.concat(t[i]);this.setState({files:n});var a=this.props.multiple?n.length:1;for(i=0;i<a;i++)1!=n[i].state&&4!=n[i].state&&this.uploadFile(n,i)},uploadFile:function(e,t){var n=this,r="http://7xj11y.com1.z0.glb.clouddn.com",a=c(),o=e[t];return i({url:"http://up.qiniu.com",name:"file",key:o.name,token:a,cors:this.props.cors,withCredentials:this.props.withCredentials,file:o,onProgress:function(e){console.log(e.loaded/e.total*100+"%")},onLoad:function(i){var a=void 0,o=JSON.parse(i.currentTarget.responseText);e[t].state=1,a=n.props.multiple?n.state.thumbs:[],a.push(r+"/"+o.name),n.setState({files:e,thumbs:a}),a=JSON.stringify(a),n.props.onChange&&n.props.onChange(n.props.name,a)},onError:function(){e[t].state=2,n.setState({files:e})}})},_hide:function(){this.setState({isshow:!1})},_show:function(e){e.stopPropagation();var t=e.currentTarget.id.split("-")[1];this.setState({isshow:!0,shownum:t})},_next:function(e){e.stopPropagation();var t=parseInt(this.state.shownum)+1;t>this.state.files.length-1&&(t=0),this.setState({shownum:t})},_prev:function(e){e.stopPropagation();var t=parseInt(this.state.shownum)-1;t<0&&(t=this.state.files.length-1),this.setState({shownum:t})},render:function(){var e=void 0,t=void 0,n=void 0,i=this.state.shownum;this.state.files.length>0?(e=this.state.files.map(function(e,t){var n=void 0;switch(e.state){case 0:n="等待上传";break;case 1:n="上传成功";break;case 2:n="上传失败";break;case 3:n="上传中";break;case 4:n="已上传"}var r={"float":"left",animationDelay:50*t+"ms",animationDuration:"500ms",paddingRight:"5px"},i=e.thumb,a=new RegExp("blob:http"),s=new RegExp("blob:file");a.test(i)||s.test(i)||(i+="-thumb");var c="swiper-"+t;return React.createElement("div",{key:t,className:"animated zoomIn",id:c,style:r,onClick:this._show},React.createElement(o,{className:"form-canva",src:i}),React.createElement("div",null,n))}.bind(this)),t=this.state.files.map(function(e,t){var n=e.thumb,a=new RegExp("blob:http"),o=new RegExp("blob:file");a.test(n)||o.test(n)||(n+="-max");var s=r({"swiper-slide":!0,"slide-show":i==t});return React.createElement("div",{key:t,className:s},React.createElement("img",{className:"swiper-lazy",src:n}))}.bind(this)),n=this.state.files.map(function(e,t){var n=r({"swiper-pagination-bullet":!0,"swiper-pagination-bullet-active":i==t});return React.createElement("span",{key:t,className:n})}.bind(this))):(e="",t="",n="");var s=r({"swiper-container":!0,"swiper-container-horizontal":!0,"swiper-show":this.state.isshow});return React.createElement(a,{title:this.props.title},React.createElement("input",{id:"file",name:"file",className:"ipt",type:"file",multiple:"multiple",onChange:this._onChange}),React.createElement("div",{className:"form-canvas"},e),React.createElement("div",{className:"clear"}),React.createElement("section",{className:s},React.createElement("div",{className:"swiper-wrapper",onClick:this._hide},t),React.createElement("div",{className:"swiper-pagination swiper-pagination-white swiper-pagination-clickable swiper-pagination-bullets"},n),React.createElement("div",{className:"swiper-button-next swiper-button-white",onClick:this._next}),React.createElement("div",{className:"swiper-button-prev swiper-button-white",onClick:this._prev})))}}));e.exports=l},function(e,t){"use strict";function n(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n}function r(e){var t=new FormData;if(null!==e.token&&void 0!==e.token&&t.append("token",e.token),null!==e.key&&void 0!==e.key&&t.append("key",e.key),null!==e.data&&void 0!==e.data)for(var r in e.data)t.append(r,e.data[r]);t.append(e.name,e.file);var i=n("post",e.url,e.cors);return i.withCredentials=e.withCredentials,i.upload.addEventListener("progress",e.onProgress,!1),i.onload=e.onLoad,i.onerror=e.onError,i.send(t),i}e.exports=function(e){return r(e)}},function(e,t){"use strict";function n(e){var t,n,r,i;for(t="",r=e.length,n=0;n<r;n++)i=e.charCodeAt(n),i>=1&&i<=127?t+=e.charAt(n):i>2047?(t+=String.fromCharCode(224|i>>12&15),t+=String.fromCharCode(128|i>>6&63),t+=String.fromCharCode(128|i>>0&63)):(t+=String.fromCharCode(192|i>>6&31),t+=String.fromCharCode(128|i>>0&63));return t}function r(e){var t,n,r,i,a,o;for(r=e.length,n=0,t="";n<r;){if(i=255&e.charCodeAt(n++),n==r){t+=l.charAt(i>>2),t+=l.charAt((3&i)<<4),t+="==";break}if(a=e.charCodeAt(n++),n==r){t+=l.charAt(i>>2),t+=l.charAt((3&i)<<4|(240&a)>>4),t+=l.charAt((15&a)<<2),t+="=";break}o=e.charCodeAt(n++),t+=l.charAt(i>>2),t+=l.charAt((3&i)<<4|(240&a)>>4),t+=l.charAt((15&a)<<2|(192&o)>>6),t+=l.charAt(63&o)}return t}var i="Lkve3Zo4h2ZK3iIGMJbwvop2Guy1jIDyJT0Mi9RL",a="WF41n8b1LIRk8c6lcBiDzNrFTci2E-cu7ki22W2b",o="wire",s=function(){var e='{ "name":$(fname),"size":$(fsize),"info":$(imageInfo),"hash":$(etag)}',t={scope:o,deadline:Date.now()+3600,returnBody:e},s=JSON.stringify(t),c=r(n(s)),l=CryptoJS.HmacSHA1(c,a),p=l.toString(CryptoJS.enc.Base64),h=i+":"+u(p)+":"+c;return h},c={getUpToken:s};e.exports=c;var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",u=(new Array((-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),62,(-1),(-1),(-1),63,52,53,54,55,56,57,58,59,60,61,(-1),(-1),(-1),(-1),(-1),(-1),(-1),0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,(-1),(-1),(-1),(-1),(-1),(-1),26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,(-1),(-1),(-1),(-1),(-1)),function(e){return e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_")})},function(e,t,n){"use strict";var r=(n(22),n(24)),i=React.createClass({displayName:"Radio",getDefaultProps:function(){return{title:"单选框",type:"radio",value:2,options:[{title:"选项1",value:1},{title:"选项2",value:2}],name:"state",placeholder:"",help:"",disabled:"",required:"required"}},getInitialState:function(){var e=void 0;switch(this.props.options){case"roles":e=[],ConfigStore.get(this.props.options).map(function(t,n){var r={title:t.name,value:t.id};e.push(r)});break;default:e=JSON.parse(this.props.options)}return{files:this.props.files,value:this.props.value,help:this.props.help,option:e}},_onChange:function(e){var t=e.target.value;this.setState({value:t}),this.props.onChange&&this.props.onChange(this.props.name,t)},render:function(){var e=this.state.value,t=this.props.name,n=this.state.option.map(function(n,r){var i="";e==n.value&&(i="checked");var a="radio";return React.createElement("label",{key:r,className:"form-radio",title:this.props.title,help:this.state.help},React.createElement("div",{className:a},React.createElement("span",{className:i},React.createElement("input",{type:"radio",name:t,value:n.value,checked:i,onChange:this._onChange}))),React.createElement("span",null,n.title))}.bind(this));return React.createElement(r,{title:this.props.title,help:this.state.help},n)}});e.exports=i},function(e,t,n){"use strict";var r=(n(22),n(24)),i=React.createClass({displayName:"Checkbox",getDefaultProps:function(){return{title:"多选框",type:"checkbox",value:[2],options:[{title:"选项1",value:1},{title:"选项2",value:2}],name:"state",placeholder:"",help:"",disabled:"",required:"required"}},getInitialState:function(){var e=void 0;switch(this.props.options){case"roles":e=[],ConfigStore.get(this.props.options).map(function(t,n){var r={title:t.name,value:t.id};e.push(r)});break;default:e=JSON.parse(this.props.options)}var t=this.props.value;return t=t?JSON.parse(t):[],{value:t,help:this.props.help,option:e}},_onChange:function(e){var t=(this.props.type,e.target.value),n=this.state.value,r=n.indexOf(t);r==-1?n.push(t):n.splice(r,1),this.setState({value:n}),n=JSON.stringify(n),this.props.onChange&&this.props.onChange(this.props.name,n)},render:function(){var e=this.state.value,t=this.props.name,n=this.state.option.map(function(n,r){var i="";e.indexOf(n.value)>-1&&(i="checked");var a="checker";return React.createElement("label",{key:r,className:"form-radio",title:this.props.title,help:this.state.help},React.createElement("div",{className:a},React.createElement("span",{className:i},React.createElement("input",{type:"checkbox",name:t,value:n.value,checked:i,onChange:this._onChange}))),React.createElement("span",null,n.title))}.bind(this));return React.createElement(r,{title:this.props.title,help:this.state.help},n)}});e.exports=i},function(e,t,n){"use strict";var r=(n(22),n(24)),i=React.createClass({displayName:"Range",getDefaultProps:function(){return{title:"滑条",type:"range",value:"",help:"滑动滑条选择你的值！",disabled:"",required:"required",max:10,min:6}},getInitialState:function(){return{value:this.props.value,help:this.props.help}},componentWillMount:function(){var e="滑块值域"+this.props.min+"~"+this.props.max+"，"+this.props.help;this.setState({help:e})},_onChange:function(e){var t=e.target.value;if(t!=this.state.value){var n="滑块值域"+this.props.min+"~"+this.props.max+"，当前值："+t;this.setState({value:t,help:n}),this.props.onChange&&this.props.onChange(this.props.name,t)}},render:function(){return React.createElement(r,{title:this.props.title,help:this.state.help},React.createElement("input",{className:"form-range",type:this.props.type,max:this.props.max,min:this.props.min,disabled:this.props.disabled,value:this.state.value,onChange:this._onChange}))}});e.exports=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={dotstyle:{top:0,left:0},dot:!1},e}return i(t,e),a(t,[{key:"onClick",value:function(e){var t=e.clientY-e.target.getBoundingClientRect().top,n=e.clientX-e.target.getBoundingClientRect().left;this.setState({dotstyle:{top:t+"px",left:n+"px"},dot:!0}),setTimeout(function(){this.setState({dot:!1})}.bind(this),3e3)}},{key:"render",value:function(){return React.createElement("div",{className:"form-group"},React.createElement("div",{className:"form-control"},React.createElement("div",{className:"form-button-dot",onClick:this.onClick.bind(this)},React.createElement("input",{className:"pure-button pure-button-primary form-button",type:"submit",disabled:this.props.disabled,value:this.props.value}),this.state.dot?React.createElement("div",{className:"pure-dot",style:this.state.dotstyle}):"")))}}]),t}(React.Component);o.defaultProps={value:"保存"},e.exports=o},function(e,t){"use strict";var n=React.createClass({displayName:"Hidden",render:function(){return React.createElement("input",{type:"hidden",disabled:this.props.disabled,value:this.props.value})}});e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(22),n(24)),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={files:e.files,value:e.value,name:e.name,help:e.help,options:e.options,show:!1},n}return a(t,e),o(t,[{key:"_toggleShow",value:function(e){this.setState({show:!this.state.show})}},{key:"_changeChoose",value:function(e,t){this.setState({value:e,name:t,show:!1}),this.props.onChange&&this.props.onChange(this.props.name,e)}},{key:"_onChange",value:function(e){e.preventDefault();var t=e.target.value;console.log(t),this.setState({value:t}),this.props.onChange&&this.props.onChange(this.props.name,t)}},{key:"render",value:function(){var e=this.state.value,t=(this.props.name,this.state.options.map(function(t,n){var r=e==t.value?" active":"";return React.createElement("div",{key:n,className:"form-option"+r,onClick:this._changeChoose.bind(this,t.value,t.title)},t.title)}.bind(this)));return React.createElement(s,{title:this.props.title,help:this.state.help,className:"form-select"},React.createElement("div",{className:"form-input",value:this.state.name,onClick:this._toggleShow.bind(this)},this.state.name),React.createElement("div",{className:"form-choose",style:{display:this.state.show?"block":"none"}},React.createElement("div",{className:"form-select-search"},React.createElement("input",{className:"form-input",value:this.state.search,placeholder:"Search",onChange:this._onChange.bind(this)})),React.createElement("div",{className:"form-select-choose"},t)))}}]),t}(React.Component);c.defaultProps={title:"单选框",type:"radio",value:2,options:[{title:"选项1",value:1},{title:"选项2",value:2},{title:"选项3",value:3},{title:"选项4",value:4}],name:"state",placeholder:"",help:"",disabled:"",required:"required"},e.exports=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={dotstyle:{top:0,left:0},dot:0},e}return i(t,e),a(t,[{key:"_onClick",value:function(e){this.setState({dot:e})}},{key:"render",value:function(){var e=this.state.dot,t=[];return this.props.children&&(this.props.children.length?t=this.props.children:t.push(this.props.children)),React.createElement("div",{className:"tab"},React.createElement("div",{className:"tab-cards"},t.map(function(t,n){var r=n==e?" active":"";return React.createElement("div",{key:n,onClick:this._onClick.bind(this,n),className:"tab-card"+r},t.props.title)}.bind(this)),React.createElement("div",{className:"tab-cardsw",style:{width:"5rem"}})),React.createElement("div",{className:"tab-cards2"},t.map(function(t,n){var r=n==e?" active":"";return React.createElement("div",{key:n,className:"tab-card2 "+r},t.props.children)})))}}]),t}(React.Component);o.defaultProps={value:"保存"},e.exports=o},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.refs.audio;e.addEventListener("timeupdate",function(){if(!isNaN(e.duration)){var t=e.duration-e.currentTime;console.log(t)}},!1)}},{key:"render",value:function(){return React.createElement("div",{className:"form-group"},React.createElement("div",{className:"form-control"},React.createElement("audio",{ref:"audio",src:"1.mp3",controls:"controls",loop:"loop",autoPlay:!1},"亲 您的浏览器不支持html5的audio标签")))}}]),t}(React.Component);o.defaultProps={value:"保存"},e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=ReactRouter,c=s.Link,l=n(4),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),o(t,[{key:"render",value:function(){var e=void 0,t=this.props.page;return e=t==this.props.current_page?React.createElement("span",{className:"pure-button active"},t):React.createElement(c,{className:"pure-button",to:"/api/"+this.props.url+"?page="+t},t),React.createElement("li",{key:t},e)}}]),t}(React.Component),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),o(t,[{key:"render",value:function(){var e=1,t=4,n=this.props.page.total||"",r=this.props.page.last_page||"",i=this.props.page.current_page||"",a=[];for(t>r+1&&(t=r+1),e;e<t;e++){var o=React.createElement(u,{url:this.props.url,page:e,key:e,current_page:i});a.push(o)}var s=i-1,c=i+2;if(c>r+1&&(c=r+1),s>e&&s>t-1){var l=React.createElement("li",{},React.createElement("span",{className:"pure-button"},"..."));for(a.push(l),s;s<c;s++){var p=React.createElement(u,{url:this.props.url,page:s,key:s,current_page:i});a.push(p)}}else for(s=e;s<c;s++){var h=React.createElement(u,{url:this.props.url,page:s,key:s,current_page:i});a.push(h)}var f=r-t+2;if(f>s){var d=React.createElement("li",{},React.createElement("span",{className:"pure-button"},"..."));a.push(d)}else f=s;for(f;f<r+1;f++){var m=React.createElement(u,{url:this.props.url,page:f,key:f,current_page:i});a.push(m)}return React.createElement("nav",{className:"pure-menu pure-menu-open pure-menu-horizontal"},React.createElement("ul",{className:"pure-paginator"},React.createElement("li",{},React.createElement("span",{className:"pure-button","aria-hidden":"true"},"共查询到"+n+"条数据")),a,React.createElement("li",{},React.createElement("span",{className:"pure-button totle"},"共"+r+"页"))))}}]),t}(React.Component),h=React.createClass({displayName:"Pages",getInitialState:function(){return{items:[],del_id:[],del_all:[],isdel_all:!1,thead_key:[],thead_name:[],title:"",pages:{},url:this.props.params.pages}},getDefaultProps:function(){},componentDidMount:function(){var e=this.props.location.query,t=e.page||1,n=this.props.params.pages;this._reQuest(n,t)},componentWillReceiveProps:function(e){var t=e.location.query.page||1,n=this.props.location.query.page||1;if(this.props.params.pages!=e.params.pages||t!=n){var r=e.params.pages;this._reQuest(r,t)}},_reQuest:function(e,t){l.get("admin/list").query({list:e,page:t}).end(function(e,t){if(e){[t.status+"error"]}else{var n=JSON.parse(t.text);if(404==n.res)return void this.setState({mods:[],info:n.info,title:n.msg});ConfigActions.update("title",n.title);var r=[];this.setState({pages:n.pages,items:r.concat(n.pages.data),del_all:this._set_del_all(n.info),thead:n.thead,thead_key:n.thead.th,thead_name:n.thead.td,title:n.title})}}.bind(this))},_set_del_all:function(e){var t=[],n=void 0;for(n in e)t.push(e[n].id);return t},_del:function(e){console.log(e.target),console.log(e.target.value)},_thead:function(){var e=this.state.thead_name,t=e.map(function(e){return React.createElement("th",{key:e},e)}.bind(this)),n=this.state.isdel_all,r=void 0;return r=n?"checked":"",React.createElement("thead",{},React.createElement("tr",{},React.createElement("th",{colSpan:"1",rowSpan:"1",className:"table-checkbox sorting_disabled"},React.createElement("div",{className:"checker"},React.createElement("span",{className:r},React.createElement("input",{className:"group-checkable",type:"checkbox",onClick:this._isdel_all})))),t,React.createElement("th",{},"操作")))},_isdel_all:function(){var e=this.state.isdel_all,t=this.state.del_all,n=[];e?e=!1:(e=!0,n=n.concat(t)),this.setState({isdel_all:e,del_id:n})},_list:function(e){var t=(this.props.params.list,this.state.thead_key),n=t.map(function(t){return React.createElement("td",{key:t+e.id},e[t])}.bind(this));return n},_click:function(e){var t=this.state.del_id,n=parseInt(e.target.value),r=t.indexOf(n);r==-1?t.push(n):t.splice(r,1),this.setState({del_id:t})},_onDel:function(e){e.preventDefault();var t=e.target.id;t=t.split("_"),t=t[1];var n="../"+this.props.params.list+"/del/"+t;l.get(n).end(function(e,t){if(e)ConfigActions.msg(t.status+"error");else{var n=JSON.parse(t.text);if(404==n.res)return void this.setState({mods:[],info:n.info,title:n.msg});this.componentDidMount(),ConfigActions.msg(n.msg)}}.bind(this))},render:function(){var e=this.props.params.pages,t=this.state.items.map(function(t){var n="/api/"+e+"/"+t.id,r=this.state.del_id,i=t.id,a=void 0;a=r.indexOf(i)!=-1?"checked":"";var o=void 0;return"roles"==e&&(o=React.createElement(c,{activeClassName:"active",to:"/permissions/"+t.id,style:{marginLeft:"20px"}},"用户组权限")),React.createElement("tr",{key:t.id},React.createElement("td",{},React.createElement("div",{className:"checker"},React.createElement("span",{className:a},React.createElement("input",{className:"checkboxes",value:t.id,name:"del_id[]",type:"checkbox",onClick:this._click})))),this._list(t),React.createElement("td",{},React.createElement(c,{activeClassName:"active",to:n},"编辑")," | ",React.createElement("a",{activeClassName:"active",id:"del_"+t.id,onClick:this._onDel},"删除"),o))}.bind(this));return React.createElement("section",{className:"pure-u-1"},React.createElement("h3",{className:"page-title"},this.state.title),React.createElement("table",{className:"pure-table pure-table-bordered",style:{width:"100%"}},this._thead(),React.createElement("tbody",null,t)),React.createElement(p,{page:this.state.pages,url:this.props.params.pages}))}});e.exports=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(20),c=s.Form,l=s.Input,u=s.Textarea,p=s.Radio,h=s.Checkbox,f=s.Upload,d=(s.Range,s.Button),m=s.Hidden,v=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={info:{}},n}return a(t,e),o(t,[{key:"componentDidMount",value:function(){this._req(this.props)}},{key:"componentWillReceiveProps",value:function(e){console.log(this.props.params),console.log(e.params),this.props.params.pages==e.params.pages&&this.props.params.page==e.params.page||this._req(e)}},{key:"_req",value:function(e){var t=e.params,n=t.pages,r=t.page,i="add"==r?"admin/add":"admin/detail";request.get(i).query({list:n,id:r}).end(function(e,t){var n=JSON.parse(t.text);console.log(n),this.setState({
fields:n.fields,info:n.info||{}})}.bind(this))}},{key:"_onSubmit",value:function(e){var t=this.props.params,n=t.pages,r=t.page;console.log(this.state.info);var i="add"==r?"admin/add":"admin/detail";request.post(i).query({list:n}).send(this.state.info).end(function(e,t){if(e){var n=[t.status+"error"];ConfigActions.msg(n)}else{var r=JSON.parse(t.text);ConfigActions.msg(r.msg)}}.bind(this))}},{key:"_onChange",value:function(e,t){var n=this.state.info;n[e]=t,this.setState({info:n})}},{key:"render",value:function n(){var e=this,n=void 0,t=void 0,r=this.state.info,i=this.state.fields;return i&&!function(){var n=e._onChange.bind(e);t=i.map(function(e,t){switch(r[e.key]||0==r[e.key]?e.value=r[e.key]:e.value=e["default"]||"",e.name=e.key,e.onChange=n,e.type){case"text":return React.createElement(l,e);case"password":return React.createElement(l,e);case"email":return React.createElement(l,e);case"textarea":return React.createElement(u,e);case"upload":return React.createElement(f,e);case"image":return React.createElement(f,e);case"radio":return React.createElement(p,e);case"checkbox":return React.createElement(h,e);case"hidden":return React.createElement(m,e)}})}(),n=React.createElement("section",{className:"container"},React.createElement(c,{action:this.state.action,info:r,apiSubmit:!1,legend:this.state.title,onSubmit:this._onSubmit.bind(this)},t,React.createElement(d))),React.createElement("section",{className:"warp"},n)}}]),t}(React.Component);e.exports=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),c=ReactRouter,l=c.Link,u=n(20),p=u.Form,h=u.Input,f=u.Button,d=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={info:{username:"",password:""}},n}return a(t,e),o(t,[{key:"_onChange",value:function(e,t){var n=this.state.info;n[e]=t,this.setState({info:n})}},{key:"_onSubmit",value:function(e){e.preventDefault(),s.post("admin/login").send(this.state.info).set("Accept","application/json").end(function(e,t){if(e)throw e;var n=JSON.parse(t.text);"ok"==n.state?(storedb("user").insert(n.data),this.props.history.pushState(null,"/")):(this.setState({msg:n.msg}),console.log(n))}.bind(this))}},{key:"render",value:function(){return React.createElement("section",{className:"pure-g"},React.createElement("section",{className:"pure-u-1 login"},React.createElement("section",{className:"login_t pure-u-1"},React.createElement(l,{to:"/",title:"首页"},"首页"),React.createElement(l,{to:"login",title:"登录"},"登录")),this.state.msg?React.createElement("div",{className:"alert alert-warning"},this.state.msg):null,React.createElement(p,{action:"user/login",info:this.state.info,apiSubmit:!1,legend:"用户登录",onSubmit:this._onSubmit.bind(this)},React.createElement(h,{type:"text",title:"用户名",name:"username",placeholder:"请输入您的用户名！",value:this.state.info.username,onChange:this._onChange.bind(this)}),React.createElement(h,{type:"password",title:"密码",name:"password",placeholder:"请输入您的密码！",value:this.state.info.password,onChange:this._onChange.bind(this)}),React.createElement(f,{value:"登录"}))))}}]),t}(React.Component);e.exports=d},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"componentDidMount",value:function(){request.get("admin/logout").end(function(e,t){e?reject("error"):(storedb("user").remove(),this.props.history.pushState(null,"login"))}.bind(this))}},{key:"render",value:function(){return null}}]),t}(React.Component);e.exports=o},function(e,t,n){"use strict";var r=n(20),i=r.Form,a=r.FormGroup,o=(r.Input,r.Button),s=(r.Hidden,n(29)),c=React.createClass({displayName:"Import",componentDidMount:function(){ConfigActions.update("title","数据导入")},_onSubmit:function(){var e=this.refs.file2.files;console.log(e);var t=e[0];return s({url:"admin/import",name:"file",key:t.name,file:t,data:{table:"member"},onProgress:function(e){console.log(e.loaded/e.total*100+"%")},onLoad:function(e){var t=JSON.parse(e.currentTarget.responseText);console.log(t)},onError:function(){}})},_onSubmit2:function(){var e=this.refs.result.files,t=e[0];return s({url:"admin/import",name:"file",key:t.name,file:t,data:{table:"result"},onProgress:function(e){console.log(e.loaded/e.total*100+"%")},onLoad:function(e){var t=JSON.parse(e.currentTarget.responseText);console.log(t)},onError:function(){}})},render:function(){return React.createElement("div",{className:"container pure-g"},React.createElement("div",{className:"pure-u-1"},React.createElement(i,{action:"user/login",apiSubmit:!1,legend:"人员数据上传",onSubmit:this._onSubmit.bind(this)},React.createElement(a,{title:"文件上传"},React.createElement("input",{id:"file",name:"file",ref:"file2",className:"ipt",type:"file",multiple:!1})),React.createElement(o,{value:"文件上传"})),React.createElement(i,{action:"user/login",apiSubmit:!1,legend:"人员数据上传",onSubmit:this._onSubmit2.bind(this)},React.createElement(a,{title:"文件上传"},React.createElement("input",{id:"file",name:"file",ref:"result",className:"ipt",type:"file",multiple:!1})),React.createElement(o,{value:"文件上传"}))))}});c.defaultProps={value:"保存"},e.exports=c},function(e,t,n){"use strict";window.ConfigActions=n(45),window.ConfigStore=n(51),window.request=n(4),window.get=function(e){if(!e)var e=window.document.location.href.toString();var t=e.split("?");if("string"==typeof t[1]){t=t[1].split("&");var n={};for(var r in t){var i=t[r].split("=");n[i[0]]=i[1]}return n}return{}},window.extend=function(e,t,n){for(var r in t)!t.hasOwnProperty(r)||e.hasOwnProperty(r)&&!n||(e[r]=t[r])},window.GetRequest=function(){var e=location.search,t=new Object;if(e.indexOf("?")!=-1){var n=e.substr(1);strs=n.split("&");for(var r=0;r<strs.length;r++)t[strs[r].split("=")[0]]=unescape(strs[r].split("=")[1])}return t}},function(e,t,n){"use strict";var r=n(46),i={init:function(e){r.dispatch({actionType:"init",data:e})},update:function(e,t){r.dispatch({id:e,data:t})},updateAll:function(e){r.dispatch({actionType:"updateAll",data:e})},updateArticle:function(e){r.dispatch({actionType:"updateArticle",data:e})}};e.exports=i},function(e,t,n){"use strict";var r=n(47).Dispatcher;e.exports=new r},function(e,t,n){"use strict";e.exports.Dispatcher=n(48)},function(e,t,n){(function(r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=n(50),o="ID_",s=function(){function e(){i(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t=o+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]?void 0:"production"!==r.env.NODE_ENV?a(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e):a(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching?void 0:"production"!==r.env.NODE_ENV?a(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching."):a(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]?void 0:"production"!==r.env.NODE_ENV?a(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):a(!1):(this._callbacks[n]?void 0:"production"!==r.env.NODE_ENV?a(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n):a(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching?"production"!==r.env.NODE_ENV?a(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):a(!1):void 0,this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=s}).call(t,n(49))},function(e,t){"use strict";function n(e){if(c===setTimeout)return setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function r(e){if(l===clearTimeout)return clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function i(){f&&p&&(f=!1,p.length?h=p.concat(h):d=-1,h.length&&a())}function a(){if(!f){var e=n(i);f=!0;for(var t=h.length;t;){for(p=h,h=[];++d<t;)p&&p[d].run();d=-1,t=h.length}p=null,f=!1,r(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}var c,l,u=e.exports={};!function(){try{c=setTimeout}catch(e){c=function(){throw new Error("setTimeout is not defined")}}try{l=clearTimeout}catch(e){l=function(){throw new Error("clearTimeout is not defined")}}}();var p,h=[],f=!1,d=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new o(e,t)),1!==h.length||f||n(a)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){(function(t){"use strict";var n=function(e,n,r,i,a,o,s,c){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,a,o,s,c],p=0;l=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return u[p++]}))}throw l.framesToPop=1,l}};e.exports=n}).call(t,n(49))},function(e,t,n){"use strict";function r(e,t){c[e]=t}var i=n(46),a=n(52).EventEmitter,o=n(53),s="config",c={transition:"example",msg:"",msg_n:0,loading:!0,title:"王的理想乡",pics:""},l=o({},a.prototype,{getAll:function(){return c},get:function(e){return c[e]},getMsg:function(){var e=c.msg;return""!=c.msg&&(c.msg=""),e},emitChange:function(){this.emit(s)},addChangeListener:function(e){this.on(s,e)},removeChangeListener:function(e){this.removeListener(s,e)}});e.exports=l,i.register(function(e){var t=e.data;if(c[e.id]!=t){switch(e.actionType){case"updateAll":for(var n in t)r(n,t[n]);break;case"updateArticle":r(t.id,t),r("title",t.title);break;default:r(e.id,e.data)}l.emitChange()}})},function(e,t){"use strict";function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"===("undefined"==typeof e?"undefined":s(e))&&null!==e}function o(e){return void 0===e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),i=l.length,c=0;c<i;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(i=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}var i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,o,s=n(e),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var l in r)i.call(r,l)&&(s[l]=r[l]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(r);for(var u=0;u<o.length;u++)a.call(r,o[u])&&(s[o[u]]=r[o[u]])}}return s}}]);